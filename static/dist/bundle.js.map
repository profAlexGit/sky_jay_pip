{"version":3,"file":"bundle.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,kBAAkB,KAAK;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;;;;;;;;;;AC5HH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;ACjIA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;ACN8B;AACE;AACH;AACK;AACJ;AACC;AACE;AACG;AACA;AACE;AACtC;AACwB","sources":["webpack://sky_jay_frontend/./js/script.js","webpack://sky_jay_frontend/./js/video-player.js","webpack://sky_jay_frontend/./css/scss/base.scss","webpack://sky_jay_frontend/./css/scss/btn-user.scss","webpack://sky_jay_frontend/./css/scss/btn.scss","webpack://sky_jay_frontend/./css/scss/form.scss","webpack://sky_jay_frontend/./css/scss/modal.scss","webpack://sky_jay_frontend/./css/scss/navbar.scss","webpack://sky_jay_frontend/./css/scss/tooltip.scss","webpack://sky_jay_frontend/./css/scss/video-list.scss","webpack://sky_jay_frontend/./css/scss/video-player.scss","webpack://sky_jay_frontend/./css/scss/video-tags.scss","webpack://sky_jay_frontend/webpack/bootstrap","webpack://sky_jay_frontend/webpack/runtime/compat get default export","webpack://sky_jay_frontend/webpack/runtime/define property getters","webpack://sky_jay_frontend/webpack/runtime/hasOwnProperty shorthand","webpack://sky_jay_frontend/webpack/runtime/make namespace object","webpack://sky_jay_frontend/./app.js"],"sourcesContent":["(() => {\r\n  'use strict'\r\n\r\n  // Bootstrap validation\r\n  const forms = document.querySelectorAll('.needs-validation')\r\n  Array.from(forms).forEach(form => {\r\n    form.addEventListener('submit', event => {\r\n      if (!form.checkValidity()) {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n      }\r\n      form.classList.add('was-validated')\r\n    }, false)\r\n  })\r\n})()\r\n\r\n// modal UserType\r\nif(window.location.pathname === '/'){\r\n  const modalUserType = new bootstrap.Modal(document.getElementById('modal-user-type'));\r\n  modalUserType.show();\r\n}\r\n\r\n// modal for video of videoList\r\n  const itemsVideo = document.querySelectorAll('.video-item');\r\n  Array.from(itemsVideo).forEach(itemVideo => {\r\n    const itemVideoCover = itemVideo.querySelector('.video-item__cover');\r\n    itemVideoCover.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      const modalVideo = new bootstrap.Modal(document.getElementById('modal-video'));\r\n      modalVideo.show();\r\n    });\r\n  });\r\n\r\n// Virtual Keyboard\r\nconst Keyboard = window.SimpleKeyboard.default;\r\nconst KeyboardLayouts = window.SimpleKeyboardLayouts.default;\r\nconst layout = new KeyboardLayouts().get(\"russian\");\r\n\r\nconst myKeyboard = new Keyboard({\r\n  onChange: input => onChange(input),\r\n  onKeyPress: button => onKeyPress(button),\r\n   ...layout,\r\n   physicalKeyboardHighlight: true,\r\n});\r\n\r\ndocument.querySelector(\".form-control-search\").addEventListener(\"input\", event => {\r\n  myKeyboard.setInput(event.target.value);\r\n});\r\n\r\nfunction onChange(input) {\r\n  document.querySelector(\".form-control-search\").value = input;\r\n  console.log(\"Input changed\", input);\r\n}\r\n\r\nfunction onKeyPress(button) {\r\n  console.log(\"Button pressed\", button);\r\n  if (button === \"{shift}\" || button === \"{lock}\") handleShift();\r\n}\r\n\r\nfunction handleShift() {\r\n  let currentLayout = myKeyboard.options.layoutName;\r\n  let shiftToggle = currentLayout === \"default\" ? \"shift\" : \"default\";\r\n\r\n  console.log(currentLayout);\r\n  myKeyboard.setOptions({\r\n    layoutName: shiftToggle\r\n  });\r\n}\r\n\r\n// lazyload\r\n  document.addEventListener(\"DOMContentLoaded\", function() {\r\n    const lazyVideos = [].slice.call(document.querySelectorAll(\"video.lazyload\"));\r\n    if (\"IntersectionObserver\" in window) {\r\n      const lazyVideoObserver = new IntersectionObserver(function(entries, observer) {\r\n        entries.forEach(function(video) {\r\n          if (video.isIntersecting) {\r\n            for (const source in video.target.children) {\r\n              const videoSource = video.target.children[source];\r\n              if (typeof videoSource.tagName === \"string\" && videoSource.tagName === \"SOURCE\") {\r\n                videoSource.src = videoSource.dataset.src;\r\n              }\r\n            }\r\n\r\n            video.target.load();\r\n            video.target.classList.remove(\"lazyload\");\r\n            lazyVideoObserver.unobserve(video.target);\r\n          }\r\n        });\r\n      });\r\n\r\n      lazyVideos.forEach(function(lazyVideo) {\r\n        lazyVideoObserver.observe(lazyVideo);\r\n      });\r\n    }\r\n  });\r\n\r\n//  tooltips\r\n  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n  const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n    return new bootstrap.Tooltip(tooltipTriggerEl)\r\n  })\r\n\r\n// inputs Range\r\n  const inputsRange = document.querySelectorAll('input[type=\"range\"]');\r\n  function handleInputChange(e) {\r\n    let target = e.target;\r\n    const min = target.min;\r\n    const max = target.max;\r\n    const val = target.value;\r\n    target.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%';\r\n  };\r\n  Array.from(inputsRange).forEach(input => {\r\n    input.addEventListener('change', handleInputChange);\r\n  });\r\n\r\n// mask input date\r\n  const inputsDate = document.querySelectorAll('.form-control--mask-date');\r\n  Array.from(inputsDate).forEach(input => {\r\n    input.addEventListener('focus', function() {\r\n      input.setAttribute('type', 'date');\r\n    });\r\n    input.addEventListener('focusout', function() {\r\n      if (input.value == '') input.setAttribute('type', 'text');\r\n    });\r\n  });","// videoPlayer\r\nvar supportsVideo = !!document.createElement('video').canPlayType;\r\nif (supportsVideo) {\r\n  const videoPlayers = document.querySelectorAll('.video-player');\r\n  Array.from(videoPlayers).forEach(videoPlayer => {\r\n    const video = videoPlayer.querySelector('video');\r\n    const videoPlayBtn = videoPlayer.querySelector('.video-player__play');\r\n    const videoPlaybackBtn = videoPlayer.querySelector('.video-player__playback');\r\n\r\n    const videoControls = videoPlayer.querySelector('.video-player__controls');\r\n    const videoProgress = videoPlayer.querySelector('.video-player__duration');\r\n    const videoSoundBtn = videoPlayer.querySelector('.video-player__sound');\r\n    const videoSoundRange = videoPlayer.querySelector('.video-player__sound-range');\r\n    let currentSoundValue;\r\n    const videoFullscreenBtn = videoPlayer.querySelector('.video-player__fullscreen');\r\n\r\n    // States\r\n    const PAUSED = 'paused';\r\n    const PLAYING = 'playing';\r\n\r\n    // Initial state\r\n    let state = PAUSED;\r\n\r\n    video.addEventListener('loadedmetadata', function() {\r\n       if (videoProgress) videoProgress.setAttribute('max', video.duration);\r\n    });\r\n\r\n    videoPlayBtn.addEventListener(\"click\", videoPlayback);\r\n    video.addEventListener(\"play\", onPlay);\r\n    video.addEventListener(\"pause\", onPause);\r\n    videoPlayer.addEventListener(\"mouseover\", controlsVisible);\r\n    videoPlayer.addEventListener(\"mouseleave\", controlsHide);\r\n\r\n    if (videoProgress) videoProgress.addEventListener('input', function(e) {\r\n       video.currentTime = this.value;\r\n    });\r\n\r\n    if (videoPlaybackBtn) videoPlaybackBtn.addEventListener(\"click\", videoPlayback);\r\n\r\n    if (videoSoundBtn) videoSoundBtn.addEventListener('click', function(e) {\r\n      video.muted = !video.muted;\r\n      if (video.muted) {\r\n        videoSoundBtn.setAttribute('data-state','muted');\r\n        videoSoundRange.value = 0;\r\n        videoSoundRange.style.backgroundSize = 0;\r\n\r\n      } else {\r\n        videoSoundBtn.setAttribute('data-state','on');\r\n        videoSoundRange.value = 50;\r\n        videoSoundRange.style.backgroundSize = '50% 100%';\r\n      }\r\n    });\r\n\r\n    if (videoSoundRange) {\r\n      currentSoundValue = videoSoundRange.value;\r\n      videoSoundRange.addEventListener('change', function(){\r\n        currentSoundValue = videoSoundRange.value;\r\n        video.volume = currentSoundValue / 100;\r\n\r\n        if (currentSoundValue == 0) {\r\n          video.muted = true;\r\n          videoSoundBtn.setAttribute('data-state','muted');\r\n        }\r\n        else {\r\n          video.muted = false;\r\n          videoSoundBtn.setAttribute('data-state','on');\r\n        }\r\n       console.log('volume ' + video.volume);\r\n      });\r\n    };\r\n\r\n    if (videoFullscreenBtn) videoFullscreenBtn.addEventListener(\"click\", function() {\r\n      const modalVideo = document.querySelector('#modal-video .modal-dialog');\r\n      if (video.requestFullscreen) {\r\n        video.requestFullscreen();\r\n      }\r\n    });\r\n\r\n    Array.from(document.querySelectorAll('.modal')).forEach(modal => {\r\n      modal.addEventListener('hidden.bs.modal', function (e) {\r\n        onPause();\r\n      });\r\n    });\r\n\r\n    function videoPlayback() {\r\n      if (video.paused || video.ended) {\r\n        onPlay();\r\n      } else {\r\n        onPause();\r\n      }\r\n    };\r\n\r\n    function onPlay() {\r\n      state = PLAYING;\r\n      video.play();\r\n      if (videoProgress) progressLoop();\r\n      videoPlayBtn.setAttribute('data-state','pause');\r\n      if (videoPlaybackBtn) videoPlaybackBtn.setAttribute('data-state','pause');\r\n      if (videoControls) controlsHide();\r\n    };\r\n\r\n    function onPause() {\r\n        state = PAUSED;\r\n        video.pause();\r\n        videoPlayBtn.setAttribute('data-state','play');\r\n        if (videoPlaybackBtn) videoPlaybackBtn.setAttribute('data-state','play');\r\n        if (videoControls) controlsVisible();\r\n    };\r\n\r\n    function progressLoop() {\r\n      if(state === PLAYING) {\r\n        videoProgress.value = video.currentTime;\r\n        videoProgress.style.backgroundSize = ((video.currentTime / video.duration) * 100) + '% 100%';\r\n        requestAnimationFrame(progressLoop);\r\n      }\r\n    };\r\n    function controlsVisible() {\r\n        if (videoControls) videoControls.setAttribute('data-state','visible');\r\n    };\r\n    function controlsHide() {\r\n      if (state === PLAYING) {\r\n        setTimeout(function() {\r\n          if (videoControls) videoControls.setAttribute('data-state','hidden');\r\n        }, 1500);\r\n      }\r\n    };\r\n\r\n  });\r\n\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './css/scss/base.scss';\r\nimport './css/scss/navbar.scss';\r\nimport './css/scss/btn.scss';\r\nimport './css/scss/btn-user.scss';\r\nimport './css/scss/form.scss';\r\nimport './css/scss/modal.scss';\r\nimport './css/scss/tooltip.scss';\r\nimport './css/scss/video-tags.scss';\r\nimport './css/scss/video-list.scss';\r\nimport './css/scss/video-player.scss';\r\n\r\nimport './js/script.js';\r\nimport './js/video-player.js';"],"names":[],"sourceRoot":""}