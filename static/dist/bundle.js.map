{"version":3,"file":"bundle.js","mappings":"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;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP,gCAAgC;;AAEhC;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,aAAa;AAC1B,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,YAAY,mBAAmB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,gCAAgC;AACtD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B,yBAAyB;AACzB,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc,QAAQ;AACtB,eAAe,gBAAgB;AAC/B,eAAe,gBAAgB;AAC/B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,eAAe,aAAa;AAC5B,eAAe,wCAAwC;AACvD,eAAe,eAAe;AAC9B,eAAe,4BAA4B;AAC3C,eAAe,uBAAuB;AACtC,eAAe,uBAAuB;AACtC,eAAe,wBAAwB;AACvC,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,eAAe,iBAAiB;AAChC,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;AACA,aAAa,sBAAsB;AACnC,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;;;;;;UChrCD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA","sources":["webpack://sky_jay_frontend/./js/date-picker.js","webpack://sky_jay_frontend/./js/script.js","webpack://sky_jay_frontend/./js/video-player.js","webpack://sky_jay_frontend/./css/scss/base.scss?4c2f","webpack://sky_jay_frontend/./css/scss/btn-user.scss?10a9","webpack://sky_jay_frontend/./css/scss/btn.scss?5ea7","webpack://sky_jay_frontend/./css/scss/date-picker.scss?0dc4","webpack://sky_jay_frontend/./css/scss/form.scss?66f4","webpack://sky_jay_frontend/./css/scss/modal.scss?c500","webpack://sky_jay_frontend/./css/scss/navbar.scss?535a","webpack://sky_jay_frontend/./css/scss/tooltip.scss?ff7c","webpack://sky_jay_frontend/./css/scss/video-list.scss?648e","webpack://sky_jay_frontend/./css/scss/video-player.scss?fcad","webpack://sky_jay_frontend/./css/scss/video-tags.scss?1def","webpack://sky_jay_frontend/./node_modules/tiny-date-picker/tiny-date-picker.css?7ad0","webpack://sky_jay_frontend/./node_modules/tiny-date-picker/dist/tiny-date-picker.js","webpack://sky_jay_frontend/webpack/bootstrap","webpack://sky_jay_frontend/webpack/runtime/compat get default export","webpack://sky_jay_frontend/webpack/runtime/define property getters","webpack://sky_jay_frontend/webpack/runtime/hasOwnProperty shorthand","webpack://sky_jay_frontend/webpack/runtime/make namespace object","webpack://sky_jay_frontend/./app.js"],"sourcesContent":["import TinyDatePicker from 'tiny-date-picker';\r\n\r\nconst dpInput = document.querySelector('.input-date-note');\r\nif (dpInput) {\r\n  const dp = TinyDatePicker(dpInput, {\r\n    mode: 'dp-permanent',\r\n    lang: {\r\n      days: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\r\n      months: [\r\n        'Январь',\r\n        'Февраль',\r\n        'Март',\r\n        'Апрель',\r\n        'Май',\r\n        'Июнь',\r\n        'Июль',\r\n        'Август',\r\n        'Сентябрь',\r\n        'Октябрь',\r\n        'Ноябрь',\r\n        'Декабрь',\r\n      ],\r\n      today: 'Сегодня',\r\n      clear: 'Очистить',\r\n      close: 'Закрыть',\r\n    },\r\n    dayOffset: 1\r\n  });\r\n\r\n  dp.on({\r\n    select: (_, dp) => console.log(dp.state.selectedDate)\r\n  });\r\n}","(() => {\r\n  'use strict'\r\n\r\n  // Bootstrap validation\r\n  const forms = document.querySelectorAll('.needs-validation')\r\n  Array.from(forms).forEach(form => {\r\n    form.addEventListener('submit', event => {\r\n      if (!form.checkValidity()) {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n      }\r\n      form.classList.add('was-validated')\r\n    }, false)\r\n  })\r\n})()\r\n\r\n// modal UserType\r\nif(window.location.pathname === '/'){\r\n  const modalUserType = new bootstrap.Modal(document.getElementById('modal-user-type'));\r\n  modalUserType.show();\r\n}\r\n\r\n// modal for video of videoList\r\n  const itemsVideo = document.querySelectorAll('.video-item');\r\n  Array.from(itemsVideo).forEach(itemVideo => {\r\n    const itemVideoCover = itemVideo.querySelector('.video-item__cover');\r\n    itemVideoCover.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      const modalVideo = new bootstrap.Modal(document.getElementById('modal-video'));\r\n      modalVideo.show();\r\n    });\r\n  });\r\n\r\n// Virtual Keyboard\r\nconst Keyboard = window.SimpleKeyboard.default;\r\nconst KeyboardLayouts = window.SimpleKeyboardLayouts.default;\r\nconst layout = new KeyboardLayouts().get(\"russian\");\r\n\r\nconst myKeyboard = new Keyboard({\r\n  onChange: input => onChange(input),\r\n  onKeyPress: button => onKeyPress(button),\r\n   ...layout,\r\n   physicalKeyboardHighlight: true,\r\n});\r\n\r\ndocument.querySelector(\".form-control-search\").addEventListener(\"input\", event => {\r\n  myKeyboard.setInput(event.target.value);\r\n});\r\n\r\nfunction onChange(input) {\r\n  document.querySelector(\".form-control-search\").value = input;\r\n  console.log(\"Input changed\", input);\r\n}\r\n\r\nfunction onKeyPress(button) {\r\n  console.log(\"Button pressed\", button);\r\n  if (button === \"{shift}\" || button === \"{lock}\") handleShift();\r\n}\r\n\r\nfunction handleShift() {\r\n  let currentLayout = myKeyboard.options.layoutName;\r\n  let shiftToggle = currentLayout === \"default\" ? \"shift\" : \"default\";\r\n\r\n  console.log(currentLayout);\r\n  myKeyboard.setOptions({\r\n    layoutName: shiftToggle\r\n  });\r\n}\r\n\r\n// lazyload\r\n  document.addEventListener(\"DOMContentLoaded\", function() {\r\n    const lazyVideos = [].slice.call(document.querySelectorAll(\"video.lazyload\"));\r\n    if (\"IntersectionObserver\" in window) {\r\n      const lazyVideoObserver = new IntersectionObserver(function(entries, observer) {\r\n        entries.forEach(function(video) {\r\n          if (video.isIntersecting) {\r\n            for (const source in video.target.children) {\r\n              const videoSource = video.target.children[source];\r\n              if (typeof videoSource.tagName === \"string\" && videoSource.tagName === \"SOURCE\") {\r\n                videoSource.src = videoSource.dataset.src;\r\n              }\r\n            }\r\n\r\n            video.target.load();\r\n            video.target.classList.remove(\"lazyload\");\r\n            lazyVideoObserver.unobserve(video.target);\r\n          }\r\n        });\r\n      });\r\n\r\n      lazyVideos.forEach(function(lazyVideo) {\r\n        lazyVideoObserver.observe(lazyVideo);\r\n      });\r\n    }\r\n  });\r\n\r\n//  tooltips\r\n  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n  const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n    return new bootstrap.Tooltip(tooltipTriggerEl)\r\n  })\r\n\r\n// inputs Range\r\n  const inputsRange = document.querySelectorAll('input[type=\"range\"]');\r\n  function handleInputChange(e) {\r\n    let target = e.target;\r\n    const min = target.min;\r\n    const max = target.max;\r\n    const val = target.value;\r\n    target.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%';\r\n  };\r\n  Array.from(inputsRange).forEach(input => {\r\n    input.addEventListener('change', handleInputChange);\r\n  });\r\n\r\n// mask input date\r\n  const inputsDate = document.querySelectorAll('.form-control--mask-date');\r\n  Array.from(inputsDate).forEach(input => {\r\n    input.addEventListener('focus', function() {\r\n      input.setAttribute('type', 'date');\r\n    });\r\n    input.addEventListener('focusout', function() {\r\n      if (input.value == '') input.setAttribute('type', 'text');\r\n    });\r\n  });","// videoPlayer\r\nvar supportsVideo = !!document.createElement('video').canPlayType;\r\nif (supportsVideo) {\r\n  const videoPlayers = document.querySelectorAll('.video-player');\r\n  Array.from(videoPlayers).forEach(videoPlayer => {\r\n    const video = videoPlayer.querySelector('video');\r\n    const videoPlayBtn = videoPlayer.querySelector('.video-player__play');\r\n    const videoPlaybackBtn = videoPlayer.querySelector('.video-player__playback');\r\n\r\n    const videoControls = videoPlayer.querySelector('.video-player__controls');\r\n    const videoProgress = videoPlayer.querySelector('.video-player__duration');\r\n    const videoSoundBtn = videoPlayer.querySelector('.video-player__sound');\r\n    const videoSoundRange = videoPlayer.querySelector('.video-player__sound-range');\r\n    let currentSoundValue;\r\n    const videoFullscreenBtn = videoPlayer.querySelector('.video-player__fullscreen');\r\n\r\n    // States\r\n    const PAUSED = 'paused';\r\n    const PLAYING = 'playing';\r\n\r\n    // Initial state\r\n    let state = PAUSED;\r\n\r\n    video.addEventListener('loadedmetadata', function() {\r\n       if (videoProgress) videoProgress.setAttribute('max', video.duration);\r\n    });\r\n\r\n    videoPlayBtn.addEventListener(\"click\", videoPlayback);\r\n    video.addEventListener(\"play\", onPlay);\r\n    video.addEventListener(\"pause\", onPause);\r\n    videoPlayer.addEventListener(\"mouseover\", controlsVisible);\r\n    videoPlayer.addEventListener(\"mouseleave\", controlsHide);\r\n\r\n    if (videoProgress) videoProgress.addEventListener('input', function(e) {\r\n       video.currentTime = this.value;\r\n    });\r\n\r\n    if (videoPlaybackBtn) videoPlaybackBtn.addEventListener(\"click\", videoPlayback);\r\n\r\n    if (videoSoundBtn) videoSoundBtn.addEventListener('click', function(e) {\r\n      video.muted = !video.muted;\r\n      if (video.muted) {\r\n        videoSoundBtn.setAttribute('data-state','muted');\r\n        videoSoundRange.value = 0;\r\n        videoSoundRange.style.backgroundSize = 0;\r\n\r\n      } else {\r\n        videoSoundBtn.setAttribute('data-state','on');\r\n        videoSoundRange.value = 50;\r\n        videoSoundRange.style.backgroundSize = '50% 100%';\r\n      }\r\n    });\r\n\r\n    if (videoSoundRange) {\r\n      currentSoundValue = videoSoundRange.value;\r\n      videoSoundRange.addEventListener('change', function(){\r\n        currentSoundValue = videoSoundRange.value;\r\n        video.volume = currentSoundValue / 100;\r\n\r\n        if (currentSoundValue == 0) {\r\n          video.muted = true;\r\n          videoSoundBtn.setAttribute('data-state','muted');\r\n        }\r\n        else {\r\n          video.muted = false;\r\n          videoSoundBtn.setAttribute('data-state','on');\r\n        }\r\n       console.log('volume ' + video.volume);\r\n      });\r\n    };\r\n\r\n    if (videoFullscreenBtn) videoFullscreenBtn.addEventListener(\"click\", function() {\r\n      const modalVideo = document.querySelector('#modal-video .modal-dialog');\r\n      if (video.requestFullscreen) {\r\n        video.requestFullscreen();\r\n      }\r\n    });\r\n\r\n    Array.from(document.querySelectorAll('.modal')).forEach(modal => {\r\n      modal.addEventListener('hidden.bs.modal', function (e) {\r\n        onPause();\r\n      });\r\n    });\r\n\r\n    function videoPlayback() {\r\n      if (video.paused || video.ended) {\r\n        onPlay();\r\n      } else {\r\n        onPause();\r\n      }\r\n    };\r\n\r\n    function onPlay() {\r\n      state = PLAYING;\r\n      video.play();\r\n      if (videoProgress) progressLoop();\r\n      videoPlayBtn.setAttribute('data-state','pause');\r\n      if (videoPlaybackBtn) videoPlaybackBtn.setAttribute('data-state','pause');\r\n      if (videoControls) controlsHide();\r\n    };\r\n\r\n    function onPause() {\r\n        state = PAUSED;\r\n        video.pause();\r\n        videoPlayBtn.setAttribute('data-state','play');\r\n        if (videoPlaybackBtn) videoPlaybackBtn.setAttribute('data-state','play');\r\n        if (videoControls) controlsVisible();\r\n    };\r\n\r\n    function progressLoop() {\r\n      if(state === PLAYING) {\r\n        videoProgress.value = video.currentTime;\r\n        videoProgress.style.backgroundSize = ((video.currentTime / video.duration) * 100) + '% 100%';\r\n        requestAnimationFrame(progressLoop);\r\n      }\r\n    };\r\n    function controlsVisible() {\r\n        if (videoControls) videoControls.setAttribute('data-state','visible');\r\n    };\r\n    function controlsHide() {\r\n      if (state === PLAYING) {\r\n        setTimeout(function() {\r\n          if (videoControls) videoControls.setAttribute('data-state','hidden');\r\n        }, 1500);\r\n      }\r\n    };\r\n\r\n  });\r\n\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.TinyDatePicker = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * @file A generic set of mutation-free date functions.\n   */\n\n  /**\n   * now returns the current date without any time values\n   *\n   * @returns {Date}\n   */\n  function now() {\n    var dt = new Date();\n    dt.setHours(0, 0, 0, 0);\n    return dt;\n  }\n\n  /**\n   * dateEq compares two dates\n   *\n   * @param {Date} date1 the first date\n   * @param {Date} date2 the second date\n   * @returns {boolean}\n   */\n  function datesEq(date1, date2) {\n    return (date1 && date1.toDateString()) === (date2 && date2.toDateString());\n  }\n\n  /**\n   * shiftDay shifts the specified date by n days\n   *\n   * @param {Date} dt\n   * @param {number} n\n   * @returns {Date}\n   */\n  function shiftDay(dt, n) {\n    dt = new Date(dt);\n    dt.setDate(dt.getDate() + n);\n    return dt;\n  }\n\n  /**\n   * shiftMonth shifts the specified date by a specified number of months\n   *\n   * @param {Date} dt\n   * @param {number} n\n   * @param {boolean} wrap optional, if true, does not change year\n   *                       value, defaults to false\n   * @returns {Date}\n   */\n  function shiftMonth(dt, n, wrap) {\n    dt = new Date(dt);\n\n    var dayOfMonth = dt.getDate();\n    var month = dt.getMonth() + n;\n\n    dt.setDate(1);\n    dt.setMonth(wrap ? (12 + month) % 12 : month);\n    dt.setDate(dayOfMonth);\n\n    // If dayOfMonth = 31, but the target month only has 30 or 29 or whatever...\n    // head back to the max of the target month\n    if (dt.getDate() < dayOfMonth) {\n      dt.setDate(0);\n    }\n\n    return dt;\n  }\n\n  /**\n   * shiftYear shifts the specified date by n years\n   *\n   * @param {Date} dt\n   * @param {number} n\n   * @returns {Date}\n   */\n  function shiftYear(dt, n) {\n    dt = new Date(dt);\n    dt.setFullYear(dt.getFullYear() + n);\n    return dt;\n  }\n\n  /**\n   * setYear changes the specified date to the specified year\n   *\n   * @param {Date} dt\n   * @param {number} year\n   */\n  function setYear(dt, year) {\n    dt = new Date(dt);\n    dt.setFullYear(year);\n    return dt;\n  }\n\n  /**\n   * setMonth changes the specified date to the specified month\n   *\n   * @param {Date} dt\n   * @param {number} month\n   */\n  function setMonth(dt, month) {\n    return shiftMonth(dt, month - dt.getMonth());\n  }\n\n  /**\n   * dateOrParse creates a function which, given a date or string, returns a date\n   *\n   * @param {function} parse the function used to parse strings\n   * @returns {function}\n   */\n  function dateOrParse(parse) {\n    return function (dt) {\n      return dropTime(typeof dt === 'string' ? parse(dt) : dt);\n    };\n  }\n\n  /**\n   * constrainDate returns dt or min/max depending on whether dt is out of bounds (inclusive)\n   *\n   * @export\n   * @param {Date} dt\n   * @param {Date} min\n   * @param {Date} max\n   * @returns {Date}\n   */\n  function constrainDate(dt, min, max) {\n    return (dt < min) ? min :\n           (dt > max) ? max :\n           dt;\n  }\n\n  function dropTime(dt) {\n    dt = new Date(dt);\n    dt.setHours(0, 0, 0, 0);\n    return dt;\n  }\n\n  /**\n   * @file Utility functions for function manipulation.\n   */\n\n  /**\n   * bufferFn buffers calls to fn so they only happen every ms milliseconds\n   *\n   * @param {number} ms number of milliseconds\n   * @param {function} fn the function to be buffered\n   * @returns {function}\n   */\n  function bufferFn(ms, fn) {\n    var timeout = undefined;\n    return function () {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, ms);\n    };\n  }\n\n  /**\n   * noop is a function which does nothing at all.\n   */\n  function noop() { }\n\n  /**\n   * copy properties from object o2 to object o1.\n   *\n   * @params {Object} o1\n   * @params {Object} o2\n   * @returns {Object}\n   */\n  function cp() {\n    var args = arguments;\n    var o1 = args[0];\n    for (var i = 1; i < args.length; ++i) {\n      var o2 = args[i] || {};\n      for (var key in o2) {\n        o1[key] = o2[key];\n      }\n    }\n    return o1;\n  }\n\n  /**\n   * @file Responsible for sanitizing and creating date picker options.\n   */\n\n  var english = {\n    days: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n    ],\n    today: 'Today',\n    clear: 'Clear',\n    close: 'Close',\n  };\n\n  /**\n   * DatePickerOptions constructs a new date picker options object, overriding\n   * default values with any values specified in opts.\n   *\n   * @param {DatePickerOptions} opts\n   * @returns {DatePickerOptions}\n   */\n  function DatePickerOptions(opts) {\n    opts = opts || {};\n    opts = cp(defaults(), opts);\n    var parse = dateOrParse(opts.parse);\n    opts.lang = cp(english, opts.lang);\n    opts.parse = parse;\n    opts.inRange = makeInRangeFn(opts);\n    opts.min = parse(opts.min || shiftYear(now(), -100));\n    opts.max = parse(opts.max || shiftYear(now(), 100));\n    opts.hilightedDate = opts.parse(opts.hilightedDate);\n\n    return opts;\n  }\n\n  function defaults() {\n    return {\n      lang: english,\n\n      // Possible values: dp-modal, dp-below, dp-permanent\n      mode: 'dp-modal',\n\n      // The date to hilight initially if the date picker has no\n      // initial value.\n      hilightedDate: now(),\n\n      format: function (dt) {\n        return (dt.getMonth() + 1) + '/' + dt.getDate() + '/' + dt.getFullYear();\n      },\n\n      parse: function (str) {\n        var date = new Date(str);\n        return isNaN(date) ? now() : date;\n      },\n\n      dateClass: function () { },\n\n      inRange: function () {\n        return true;\n      }\n    };\n  }\n\n  function makeInRangeFn(opts) {\n    var inRange = opts.inRange; // Cache this version, and return a variant\n\n    return function (dt, dp) {\n      return inRange(dt, dp) && opts.min <= dt && opts.max >= dt;\n    };\n  }\n\n  /**\n   * @file Helper functions for dealing with dom elements.\n   */\n\n  var Key = {\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40,\n    enter: 13,\n    esc: 27,\n  };\n\n  /**\n   * on attaches an event handler to the specified element, and returns an\n   * off function which can be used to remove the handler.\n   *\n   * @param {string} evt the name of the event to handle\n   * @param {HTMLElement} el the element to attach to\n   * @param {function} handler the event handler\n   * @returns {function} the off function\n   */\n  function on(evt, el, handler) {\n    el.addEventListener(evt, handler, true);\n\n    return function () {\n      el.removeEventListener(evt, handler, true);\n    };\n  }\n\n  var CustomEvent = shimCustomEvent();\n\n  function shimCustomEvent() {\n    var CustomEvent = window.CustomEvent;\n\n    if (typeof CustomEvent !== 'function') {\n      CustomEvent = function (event, params) {\n        params = params || {bubbles: false, cancelable: false, detail: undefined};\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n      };\n\n      CustomEvent.prototype = window.Event.prototype;\n    }\n\n    return CustomEvent;\n  }\n\n  /**\n   * @file Manages the calendar / day-picker view.\n   */\n\n  var dayPicker = {\n    onKeyDown: keyDown,\n    onClick: {\n      'dp-day': selectDay,\n      'dp-next': gotoNextMonth,\n      'dp-prev': gotoPrevMonth,\n      'dp-today': selectToday,\n      'dp-clear': clear,\n      'dp-close': close,\n      'dp-cal-month': showMonthPicker,\n      'dp-cal-year': showYearPicker,\n    },\n    render: render\n  };\n\n  /**\n   * view renders the calendar (day picker) as an HTML string.\n   *\n   * @param {DatePickerContext} context the date picker being rendered\n   * @returns {string}\n   */\n  function render(dp) {\n    var opts = dp.opts;\n    var lang = opts.lang;\n    var state = dp.state;\n    var dayNames = lang.days;\n    var dayOffset = opts.dayOffset || 0;\n    var selectedDate = state.selectedDate;\n    var hilightedDate = state.hilightedDate;\n    var hilightedMonth = hilightedDate.getMonth();\n    var today = now().getTime();\n\n    return (\n      '<div class=\"dp-cal\">' +\n        '<header class=\"dp-cal-header\">' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-prev\">Prev</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-cal-month\">' +\n            lang.months[hilightedMonth] +\n          '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-cal-year\">' +\n            hilightedDate.getFullYear() +\n          '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-next\">Next</button>' +\n        '</header>' +\n        '<div class=\"dp-days\">' +\n          dayNames.map(function (name, i) {\n            return (\n              '<span class=\"dp-col-header\">' + dayNames[(i + dayOffset) % dayNames.length] + '</span>'\n            );\n          }).join('') +\n          mapDays(hilightedDate, dayOffset, function (date) {\n            var isNotInMonth = date.getMonth() !== hilightedMonth;\n            var isDisabled = !opts.inRange(date);\n            var isToday = date.getTime() === today;\n            var className = 'dp-day';\n            className += (isNotInMonth ? ' dp-edge-day' : '');\n            className += (datesEq(date, hilightedDate) ? ' dp-current' : '');\n            className += (datesEq(date, selectedDate) ? ' dp-selected' : '');\n            className += (isDisabled ? ' dp-day-disabled' : '');\n            className += (isToday ? ' dp-day-today' : '');\n            className += ' ' + opts.dateClass(date, dp);\n\n            return (\n              '<button tabindex=\"-1\" type=\"button\" class=\"' + className + '\" data-date=\"' + date.getTime() + '\">' +\n                date.getDate() +\n              '</button>'\n            );\n          }) +\n        '</div>' +\n        '<footer class=\"dp-cal-footer\">' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-today\">' + lang.today + '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-clear\">' + lang.clear + '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-close\">' + lang.close + '</button>' +\n        '</footer>' +\n      '</div>'\n    );\n  }\n\n  /**\n   * keyDown handles the key down event for the day-picker\n   *\n   * @param {Event} e\n   * @param {DatePickerContext} dp\n   */\n  function keyDown(e, dp) {\n    var key = e.keyCode;\n    var shiftBy =\n      (key === Key.left) ? -1 :\n      (key === Key.right) ? 1 :\n      (key === Key.up) ? -7 :\n      (key === Key.down) ? 7 :\n      0;\n\n    if (key === Key.esc) {\n      dp.close();\n    } else if (shiftBy) {\n      e.preventDefault();\n      dp.setState({\n        hilightedDate: shiftDay(dp.state.hilightedDate, shiftBy)\n      });\n    }\n  }\n\n  function selectToday(e, dp) {\n    dp.setState({\n      selectedDate: now(),\n    });\n  }\n\n  function clear(e, dp) {\n    dp.setState({\n      selectedDate: null,\n    });\n  }\n\n  function close(e, dp) {\n    dp.close();\n  }\n\n  function showMonthPicker(e, dp) {\n    dp.setState({\n      view: 'month'\n    });\n  }\n\n  function showYearPicker(e, dp) {\n    dp.setState({\n      view: 'year'\n    });\n  }\n\n  function gotoNextMonth(e, dp) {\n    var hilightedDate = dp.state.hilightedDate;\n    dp.setState({\n      hilightedDate: shiftMonth(hilightedDate, 1)\n    });\n  }\n\n  function gotoPrevMonth(e, dp) {\n    var hilightedDate = dp.state.hilightedDate;\n    dp.setState({\n      hilightedDate: shiftMonth(hilightedDate, -1)\n    });\n  }\n\n  function selectDay(e, dp) {\n    dp.setState({\n      selectedDate: new Date(parseInt(e.target.getAttribute('data-date'))),\n    });\n  }\n\n  function mapDays(currentDate, dayOffset, fn) {\n    var result = '';\n    var iter = new Date(currentDate);\n    iter.setDate(1);\n    iter.setDate(1 - iter.getDay() + dayOffset);\n\n    // If we are showing monday as the 1st of the week,\n    // and the monday is the 2nd of the month, the sunday won't\n    // show, so we need to shift backwards\n    if (dayOffset && iter.getDate() === dayOffset + 1) {\n      iter.setDate(dayOffset - 6);\n    }\n\n    // We are going to have 6 weeks always displayed to keep a consistent\n    // calendar size\n    for (var day = 0; day < (6 * 7); ++day) {\n      result += fn(iter);\n      iter.setDate(iter.getDate() + 1);\n    }\n\n    return result;\n  }\n\n  /**\n   * @file Manages the month-picker view.\n   */\n\n  var monthPicker = {\n    onKeyDown: keyDown$1,\n    onClick: {\n      'dp-month': onChooseMonth\n    },\n    render: render$1\n  };\n\n  function onChooseMonth(e, dp) {\n    dp.setState({\n      hilightedDate: setMonth(dp.state.hilightedDate, parseInt(e.target.getAttribute('data-month'))),\n      view: 'day',\n    });\n  }\n\n  /**\n   * render renders the month picker as an HTML string\n   *\n   * @param {DatePickerContext} dp the date picker context\n   * @returns {string}\n   */\n  function render$1(dp) {\n    var opts = dp.opts;\n    var lang = opts.lang;\n    var months = lang.months;\n    var currentDate = dp.state.hilightedDate;\n    var currentMonth = currentDate.getMonth();\n\n    return (\n      '<div class=\"dp-months\">' +\n        months.map(function (month, i) {\n          var className = 'dp-month';\n          className += (currentMonth === i ? ' dp-current' : '');\n\n          return (\n            '<button tabindex=\"-1\" type=\"button\" class=\"' + className + '\" data-month=\"' + i + '\">' +\n              month +\n            '</button>'\n          );\n        }).join('') +\n      '</div>'\n    );\n  }\n\n  /**\n   * keyDown handles keydown events that occur in the month picker\n   *\n   * @param {Event} e\n  * @param {DatePickerContext} dp\n   */\n  function keyDown$1(e, dp) {\n    var key = e.keyCode;\n    var shiftBy =\n      (key === Key.left) ? -1 :\n      (key === Key.right) ? 1 :\n      (key === Key.up) ? -3 :\n      (key === Key.down) ? 3 :\n      0;\n\n    if (key === Key.esc) {\n      dp.setState({\n        view: 'day',\n      });\n    } else if (shiftBy) {\n      e.preventDefault();\n      dp.setState({\n        hilightedDate: shiftMonth(dp.state.hilightedDate, shiftBy, true)\n      });\n    }\n  }\n\n  /**\n   * @file Manages the year-picker view.\n   */\n\n  var yearPicker = {\n    render: render$2,\n    onKeyDown: keyDown$2,\n    onClick: {\n      'dp-year': onChooseYear\n    },\n  };\n\n  /**\n   * view renders the year picker as an HTML string.\n   *\n   * @param {DatePickerContext} dp the date picker context\n   * @returns {string}\n   */\n  function render$2(dp) {\n    var state = dp.state;\n    var currentYear = state.hilightedDate.getFullYear();\n    var selectedYear = state.selectedDate.getFullYear();\n\n    return (\n      '<div class=\"dp-years\">' +\n        mapYears(dp, function (year) {\n          var className = 'dp-year';\n          className += (year === currentYear ? ' dp-current' : '');\n          className += (year === selectedYear ? ' dp-selected' : '');\n\n          return (\n            '<button tabindex=\"-1\" type=\"button\" class=\"' + className + '\" data-year=\"' + year + '\">' +\n              year +\n            '</button>'\n          );\n        }) +\n      '</div>'\n    );\n  }\n\n  function onChooseYear(e, dp) {\n    dp.setState({\n      hilightedDate: setYear(dp.state.hilightedDate, parseInt(e.target.getAttribute('data-year'))),\n      view: 'day',\n    });\n  }\n\n  function keyDown$2(e, dp) {\n    var key = e.keyCode;\n    var opts = dp.opts;\n    var shiftBy =\n      (key === Key.left || key === Key.up) ? 1 :\n      (key === Key.right || key === Key.down) ? -1 :\n      0;\n\n    if (key === Key.esc) {\n      dp.setState({\n        view: 'day',\n      });\n    } else if (shiftBy) {\n      e.preventDefault();\n      var shiftedYear = shiftYear(dp.state.hilightedDate, shiftBy);\n\n      dp.setState({\n        hilightedDate: constrainDate(shiftedYear, opts.min, opts.max),\n      });\n    }\n  }\n\n  function mapYears(dp, fn) {\n    var result = '';\n    var max = dp.opts.max.getFullYear();\n\n    for (var i = max; i >= dp.opts.min.getFullYear(); --i) {\n      result += fn(i);\n    }\n\n    return result;\n  }\n\n  /**\n   * @file Defines the base date picker behavior, overridden by various modes.\n   */\n\n  var views = {\n    day: dayPicker,\n    year: yearPicker,\n    month: monthPicker\n  };\n\n  function BaseMode(input, emit, opts) {\n    var detatchInputEvents; // A function that detaches all events from the input\n    var closing = false; // A hack to prevent calendar from re-opening when closing.\n    var selectedDate; // The currently selected date\n    var dp = {\n      // The root DOM element for the date picker, initialized on first open.\n      el: undefined,\n      opts: opts,\n      shouldFocusOnBlur: true,\n      shouldFocusOnRender: true,\n      state: initialState(),\n      adjustPosition: noop,\n      containerHTML: '<div class=\"dp\"></div>',\n\n      attachToDom: function () {\n        document.body.appendChild(dp.el);\n      },\n\n      updateInput: function (selectedDate) {\n        var e = new CustomEvent('change', {bubbles: true});\n        e.simulated = true;\n        input.value = selectedDate ? opts.format(selectedDate) : '';\n        input.dispatchEvent(e);\n      },\n\n      computeSelectedDate: function () {\n        return opts.parse(input.value);\n      },\n\n      currentView: function() {\n        return views[dp.state.view];\n      },\n\n      open: function () {\n        if (closing) {\n          return;\n        }\n\n        if (!dp.el) {\n          dp.el = createContainerElement(opts, dp.containerHTML);\n          attachContainerEvents(dp);\n        }\n\n        selectedDate = constrainDate(dp.computeSelectedDate(), opts.min, opts.max);\n        dp.state.hilightedDate = selectedDate || opts.hilightedDate;\n        dp.state.view = 'day';\n\n        dp.attachToDom();\n        dp.render();\n\n        emit('open');\n      },\n\n      isVisible: function () {\n        return !!dp.el && !!dp.el.parentNode;\n      },\n\n      hasFocus: function () {\n        var focused = document.activeElement;\n        return dp.el &&\n          dp.el.contains(focused) &&\n          focused.className.indexOf('dp-focuser') < 0;\n      },\n\n      shouldHide: function () {\n        return dp.isVisible();\n      },\n\n      close: function (becauseOfBlur) {\n        var el = dp.el;\n\n        if (!dp.isVisible()) {\n          return;\n        }\n\n        if (el) {\n          var parent = el.parentNode;\n          parent && parent.removeChild(el);\n        }\n\n        closing = true;\n\n        if (becauseOfBlur && dp.shouldFocusOnBlur) {\n          focusInput(input);\n        }\n\n        // When we close, the input often gains refocus, which\n        // can then launch the date picker again, so we buffer\n        // a bit and don't show the date picker within N ms of closing\n        setTimeout(function() {\n          closing = false;\n        }, 100);\n\n        emit('close');\n      },\n\n      destroy: function () {\n        dp.close();\n        detatchInputEvents();\n      },\n\n      render: function () {\n        if (!dp.el || !dp.el.firstChild) {\n          return;\n        }\n\n        var hadFocus = dp.hasFocus();\n        var html = dp.currentView().render(dp);\n        html && (dp.el.firstChild.innerHTML = html);\n\n        dp.adjustPosition();\n\n        if (hadFocus || dp.shouldFocusOnRender) {\n          focusCurrent(dp);\n        }\n      },\n\n      // Conceptually similar to setState in React, updates\n      // the view state and re-renders.\n      setState: function (state) {\n        for (var key in state) {\n          dp.state[key] = state[key];\n        }\n\n        emit('statechange');\n        dp.render();\n      },\n    };\n\n    detatchInputEvents = attachInputEvents(input, dp);\n\n    // Builds the initial view state\n    // selectedDate is a special case and causes changes to hilightedDate\n    // hilightedDate is set on open, so remains undefined initially\n    // view is the current view (day, month, year)\n    function initialState() {\n      return {\n        get selectedDate() {\n          return selectedDate;\n        },\n        set selectedDate(dt) {\n          if (dt && !opts.inRange(dt)) {\n            return;\n          }\n\n          if (dt) {\n            selectedDate = new Date(dt);\n            dp.state.hilightedDate = selectedDate;\n          } else {\n            selectedDate = dt;\n          }\n\n          dp.updateInput(selectedDate);\n          emit('select');\n          dp.close();\n        },\n        view: 'day',\n      };\n    }\n\n    return dp;\n  }\n\n  function createContainerElement(opts, containerHTML) {\n    var el = document.createElement('div');\n\n    el.className = opts.mode;\n    el.innerHTML = containerHTML;\n\n    return el;\n  }\n\n  function attachInputEvents(input, dp) {\n    var bufferShow = bufferFn(5, function () {\n      if (dp.shouldHide()) {\n        dp.close();\n      } else {\n        dp.open();\n      }\n    });\n\n    var off = [\n      on('blur', input, bufferFn(150, function () {\n        if (!dp.hasFocus()) {\n          dp.close(true);\n        }\n      })),\n\n      on('mousedown', input, function () {\n        if (input === document.activeElement) {\n          bufferShow();\n        }\n      }),\n\n      on('focus', input, bufferShow),\n\n      on('input', input, function (e) {\n        var date = dp.opts.parse(e.target.value);\n        isNaN(date) || dp.setState({\n          hilightedDate: date\n        });\n      }),\n    ];\n\n    // Unregister all events that were registered above.\n    return function() {\n      off.forEach(function (f) {\n        f();\n      });\n    };\n  }\n\n  function focusCurrent(dp) {\n    var current = dp.el.querySelector('.dp-current');\n    return current && current.focus();\n  }\n\n  function attachContainerEvents(dp) {\n    var el = dp.el;\n    var calEl = el.querySelector('.dp');\n\n    // Hack to get iOS to show active CSS states\n    el.ontouchstart = noop;\n\n    function onClick(e) {\n      e.target.className.split(' ').forEach(function(evt) {\n        var handler = dp.currentView().onClick[evt];\n        handler && handler(e, dp);\n      });\n    }\n\n    // The calender fires a blur event *every* time we redraw\n    // this means we need to buffer the blur event to see if\n    // it still has no focus after redrawing, and only then\n    // do we return focus to the input. A possible other approach\n    // would be to set context.redrawing = true on redraw and\n    // set it to false in the blur event.\n    on('blur', calEl, bufferFn(150, function () {\n      if (!dp.hasFocus()) {\n        dp.close(true);\n      }\n    }));\n\n    on('keydown', el, function (e) {\n      if (e.keyCode === Key.enter) {\n        onClick(e);\n      } else {\n        dp.currentView().onKeyDown(e, dp);\n      }\n    });\n\n    // If the user clicks in non-focusable space, but\n    // still within the date picker, we don't want to\n    // hide, so we need to hack some things...\n    on('mousedown', calEl, function (e) {\n      e.target.focus && e.target.focus(); // IE hack\n      if (document.activeElement !== e.target) {\n        e.preventDefault();\n        focusCurrent(dp);\n      }\n    });\n\n    on('click', el, onClick);\n  }\n\n  function focusInput(input) {\n    // When the modal closes, we need to focus the original input so the\n    // user can continue tabbing from where they left off.\n    input.focus();\n\n    // iOS zonks out if we don't blur the input, so...\n    if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {\n      input.blur();\n    }\n  }\n\n  /**\n   * @file Defines the modal date picker behavior.\n   */\n\n  function ModalMode(input, emit, opts) {\n    var dp = BaseMode(input, emit, opts);\n\n    // In modal mode, users really shouldn't be able to type in\n    // the input, as all input is done via the calendar.\n    input.readonly = true;\n\n    // In modal mode, we need to know when the user has tabbed\n    // off the end of the calendar, and set focus to the original\n    // input. To do this, we add a special element to the DOM.\n    // When the user tabs off the bottom of the calendar, they\n    // will tab onto this element.\n    dp.containerHTML += '<a href=\"#\" class=\"dp-focuser\">.</a>';\n\n    return dp;\n  }\n\n  /**\n   * @file Defines the dropdown date picker behavior.\n   */\n\n  function DropdownMode(input, emit, opts) {\n    var dp = BaseMode(input, emit, opts);\n\n    dp.shouldFocusOnBlur = false;\n\n    Object.defineProperty(dp, 'shouldFocusOnRender', {\n      get: function() {\n        return input !== document.activeElement;\n      }\n    });\n\n    dp.adjustPosition = function () {\n      autoPosition(input, dp);\n    };\n\n    return dp;\n  }\n\n  function autoPosition(input, dp) {\n    var inputPos = input.getBoundingClientRect();\n    var win = window;\n\n    adjustCalY(dp, inputPos, win);\n    adjustCalX(dp, inputPos, win);\n\n    dp.el.style.visibility = '';\n  }\n\n  function adjustCalX(dp, inputPos, win) {\n    var cal = dp.el;\n    var scrollLeft = win.pageXOffset;\n    var inputLeft = inputPos.left + scrollLeft;\n    var maxRight = win.innerWidth + scrollLeft;\n    var offsetWidth = cal.offsetWidth;\n    var calRight = inputLeft + offsetWidth;\n    var shiftedLeft = maxRight - offsetWidth;\n    var left = calRight > maxRight && shiftedLeft > 0 ? shiftedLeft : inputLeft;\n\n    cal.style.left = left + 'px';\n  }\n\n  function adjustCalY(dp, inputPos, win) {\n    var cal = dp.el;\n    var scrollTop = win.pageYOffset;\n    var inputTop = scrollTop + inputPos.top;\n    var calHeight = cal.offsetHeight;\n    var belowTop = inputTop + inputPos.height + 8;\n    var aboveTop = inputTop - calHeight - 8;\n    var isAbove = (aboveTop > 0 && belowTop + calHeight > scrollTop + win.innerHeight);\n    var top = isAbove ? aboveTop : belowTop;\n\n    if (cal.classList) {\n      cal.classList.toggle('dp-is-above', isAbove);\n      cal.classList.toggle('dp-is-below', !isAbove);\n    }\n    cal.style.top = top + 'px';\n  }\n\n  /**\n   * @file Defines the permanent date picker behavior.\n   */\n\n  function PermanentMode(root, emit, opts) {\n    var dp = BaseMode(root, emit, opts);\n\n    dp.close = noop;\n    dp.destroy = noop;\n    dp.updateInput = noop;\n    dp.shouldFocusOnRender = opts.shouldFocusOnRender;\n\n    dp.computeSelectedDate = function () {\n      return opts.hilightedDate;\n    };\n\n    dp.attachToDom = function () {\n      root.appendChild(dp.el);\n    };\n\n    dp.open();\n\n    return dp;\n  }\n\n  /**\n   * @file Defines the various date picker modes (modal, dropdown, permanent)\n   */\n\n  function Mode(input, emit, opts) {\n    input = input && input.tagName ? input : document.querySelector(input);\n\n    if (opts.mode === 'dp-modal') {\n      return ModalMode(input, emit, opts);\n    }\n\n    if (opts.mode === 'dp-below') {\n      return DropdownMode(input, emit, opts);\n    }\n\n    if (opts.mode === 'dp-permanent') {\n      return PermanentMode(input, emit, opts);\n    }\n  }\n\n  /**\n   * @file Defines simple event emitter behavior.\n   */\n\n  /**\n   * Emitter constructs a new emitter object which has on/off methods.\n   *\n   * @returns {EventEmitter}\n   */\n  function Emitter() {\n    var handlers = {};\n\n    function onOne(name, handler) {\n      (handlers[name] = (handlers[name] || [])).push(handler);\n    }\n\n    function onMany(fns) {\n      for (var name in fns) {\n        onOne(name, fns[name]);\n      }\n    }\n\n    return {\n      on: function (name, handler) {\n        if (handler) {\n          onOne(name, handler);\n        } else {\n          onMany(name);\n        }\n\n        return this;\n      },\n\n      emit: function (name, arg) {\n        (handlers[name] || []).forEach(function (handler) {\n          handler(name, arg);\n        });\n      },\n\n      off: function (name, handler) {\n        if (!name) {\n          handlers = {};\n        } else if (!handler) {\n          handlers[name] = [];\n        } else {\n          handlers[name] = (handlers[name] || []).filter(function (h) {\n            return h !== handler;\n          });\n        }\n\n        return this;\n      }\n    };\n  }\n\n  /**\n   * @file The root date picker file, defines public exports for the library.\n   */\n\n  /**\n  * The date picker language configuration\n  * @typedef {Object} LangOptions\n  * @property {Array.<string>} [days] - Days of the week\n  * @property {Array.<string>} [months] - Months of the year\n  * @property {string} today - The label for the 'today' button\n  * @property {string} close - The label for the 'close' button\n  * @property {string} clear - The label for the 'clear' button\n  */\n\n  /**\n  * The configuration options for a date picker.\n  *\n  * @typedef {Object} DatePickerOptions\n  * @property {LangOptions} [lang] - Configures the label text, defaults to English\n  * @property {('dp-modal'|'dp-below'|'dp-permanent')} [mode] - The date picker mode, defaults to 'dp-modal'\n  * @property {(string|Date)} [hilightedDate] - The date to hilight if no date is selected\n  * @property {function(string|Date):Date} [parse] - Parses a date, the complement of the \"format\" function\n  * @property {function(Date):string} [format] - Formats a date for displaying to user\n  * @property {function(Date):string} [dateClass] - Associates a custom CSS class with a date\n  * @property {function(Date):boolean} [inRange] - Indicates whether or not a date is selectable\n  * @property {(string|Date)} [min] - The minimum selectable date (inclusive, default 100 years ago)\n  * @property {(string|Date)} [max] - The maximum selectable date (inclusive, default 100 years from now)\n  */\n\n  /**\n  * The state values for the date picker\n  *\n  * @typedef {Object} DatePickerState\n  * @property {string} view - The current view 'day' | 'month' | 'year'\n  * @property {Date} selectedDate - The date which has been selected by the user\n  * @property {Date} hilightedDate - The date which is currently hilighted / active\n  */\n\n  /**\n  * An instance of TinyDatePicker\n  *\n  * @typedef {Object} DatePicker\n  * @property {DatePickerState} state - The values currently displayed.\n  * @property {function} on - Adds an event handler\n  * @property {function} off - Removes an event handler\n  * @property {function} setState - Changes the current state of the date picker\n  * @property {function} open - Opens the date picker\n  * @property {function} close - Closes the date picker\n  * @property {function} destroy - Destroys the date picker (removing all handlers from the input, too)\n  */\n\n  /**\n   * TinyDatePicker constructs a new date picker for the specified input\n   *\n   * @param {HTMLElement | string} input The input or CSS selector associated with the datepicker\n   * @param {DatePickerOptions} opts The options for initializing the date picker\n   * @returns {DatePicker}\n   */\n  function TinyDatePicker(input, opts) {\n    var emitter = Emitter();\n    var options = DatePickerOptions(opts);\n    var mode = Mode(input, emit, options);\n    var me = {\n      get state() {\n        return mode.state;\n      },\n      on: emitter.on,\n      off: emitter.off,\n      setState: mode.setState,\n      open: mode.open,\n      close: mode.close,\n      destroy: mode.destroy,\n    };\n\n    function emit(evt) {\n      emitter.emit(evt, me);\n    }\n\n    return me;\n  }\n\n  return TinyDatePicker;\n\n})));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './css/scss/base.scss';\r\nimport './css/scss/navbar.scss';\r\nimport './css/scss/btn.scss';\r\nimport './css/scss/btn-user.scss';\r\nimport './css/scss/form.scss';\r\nimport './css/scss/modal.scss';\r\nimport './css/scss/tooltip.scss';\r\nimport './css/scss/video-tags.scss';\r\nimport './css/scss/video-list.scss';\r\nimport './css/scss/video-player.scss';\r\n\r\nimport  './node_modules/tiny-date-picker/tiny-date-picker.css';\r\nimport './css/scss/date-picker.scss';\r\n\r\nimport './js/script.js';\r\nimport './js/video-player.js';\r\n\r\nimport './js/date-picker.js';"],"names":["TinyDatePicker","dpInput","document","querySelector","dp","mode","lang","days","months","today","clear","close","dayOffset","on","select","_","console","log","state","selectedDate","forms","querySelectorAll","Array","from","forEach","form","addEventListener","event","checkValidity","preventDefault","stopPropagation","classList","add","window","location","pathname","modalUserType","bootstrap","Modal","getElementById","show","itemsVideo","itemVideo","itemVideoCover","e","modalVideo","Keyboard","SimpleKeyboard","KeyboardLayouts","SimpleKeyboardLayouts","layout","get","myKeyboard","onChange","input","onKeyPress","button","physicalKeyboardHighlight","setInput","target","value","handleShift","currentLayout","options","layoutName","shiftToggle","setOptions","lazyVideos","slice","call","lazyVideoObserver","IntersectionObserver","entries","observer","video","isIntersecting","source","children","videoSource","tagName","src","dataset","load","remove","unobserve","lazyVideo","observe","tooltipTriggerList","tooltipList","map","tooltipTriggerEl","Tooltip","inputsRange","handleInputChange","min","max","val","style","backgroundSize","inputsDate","setAttribute","supportsVideo","createElement","canPlayType","videoPlayers","videoPlayer","videoPlayBtn","videoPlaybackBtn","videoControls","videoProgress","videoSoundBtn","videoSoundRange","currentSoundValue","videoFullscreenBtn","PAUSED","PLAYING","duration","videoPlayback","onPlay","onPause","controlsVisible","controlsHide","currentTime","muted","volume","requestFullscreen","modal","paused","ended","play","progressLoop","pause","requestAnimationFrame","setTimeout"],"sourceRoot":""}